# This file is generated by Terraformm, do not edit it directly.
# To update it just execute "terraform apply" again after changing the "regions" parameter.

%{ for region in regions ~}
module "regional_resources_${region}" {
 count  = contains(var.regions,"${region}") ? 1 : 0

  source        = "./resources"
  label_context = var.label_context

  autospotting_lambda_arn = var.autospotting_lambda_arn
  event_bus_arn           = data.aws_cloudwatch_event_bus.default.arn
  main_region             = data.aws_region.current.name
  put_event_role_arn      = var.put_event_role_arn

  providers = {
    aws = aws.${region}
  }
}
%{ endfor }